<!doctype html>
<html lang="{{ lang }}">
	<head
		prefix="og: http://ogp.me/ns#
		article: http://ogp.me/ns/article#
		profile: https://ogp.me/ns/profile#"
	>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<title>{% block title %}{{ config.title }}{% endblock title %}</title>

		<meta property="og:site_name" content="{{ config.title }}" />
		<meta property="og:url" content="{{ current_url }}" />

		{% block extra_head %}
		<meta property="og:title" content="{{ config.title }}" />
		<meta property="og:type" content="website" />

		<script type="application/ld+json">
			{
				"@type": "WebSite",
				"url": "{{ current_url | safe }}",
				"name": "{{ config.title }}",
				"description": "{{ config.description }}",
				"@context": "https://schema.org"
			}
		</script>
		{% endblock extra_head %}

		<meta name="generator" content="Zola" />

		<meta name="twitter:card" content="summary" />
		{% if config.extra.twitter %}
		<meta name="twitter:site" content="@{{ config.extra.twitter }}" />
		{% endif %}

		<link
			rel="stylesheet"
			href="{{ get_url(path='/assets/css/style.css', trailing_slash=false) }}"
		/>

		{% if config.generate_feed %}
		<link
			rel="alternate"
			type="{% if config.feed_filename == 'atom.xml' %}application/atom+xml{% else %}application/rss+xml{% endif %}"
			title="RSS"
			href="{{ get_url(path=config.feed_filename) | safe }}"
		/>
		{% endif %}
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="{{ get_url(path='/assets/css/override.css', trailing_slash=false) }}"
		/>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
			integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
			integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
			crossorigin="anonymous"
		></script>
		<script type="text/javascript">
			document.addEventListener("DOMContentLoaded", (event) => {
				const tooltipTriggerList = document.querySelectorAll(
					'[data-bs-toggle="tooltip"]',
				);
				const tooltipList = [...tooltipTriggerList].map(
					(tooltipTriggerEl) =>
						new bootstrap.Tooltip(tooltipTriggerEl),
				);
			});
		</script>
		<script type="text/javascript">
			window.MathJax = {
				loader: {
					load: ["input/tex-base", "output/chtml"],
				},
				tex: {
					inlineMath: [["$", "$"]],
					displayMath: [["$$", "$$"]],
					processEscapes: true,
					processEnvironments: false,
					processRefs: false,
				},
			};
		</script>
		<script
			id="MathJax-script"
			async
			src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"
			integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js"
			integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		></script>
		<script type="text/javascript">
			addEventListener("DOMContentLoaded", async () => {
				const Cite = window.require("citation-js");
				const citationElements =
					document.querySelectorAll(".language-csl-json");
				for (let citationElement of citationElements) {
					try {
						const citation = await Cite.async(citationElement);
						const template = document.createElement("template");
						template.innerHTML = citation.format("bibliography", {
							format: "html",
							template: "apa",
							lang: "en-US",
						});
						if (
							citationElement.parentElement &&
							citationElement.parentElement.matches("pre")
						) {
							citationElement.parentElement.replaceWith(
								template.content,
							);
						} else {
							citationElement.replaceWith(template.content);
						}
					} catch (e) {
						console.error("unable to render citation", e);
					}
				}
			});
		</script>
	</head>
	<body>
		{% block nav %}
		<header class="site-header" role="banner">
			<div class="wrapper">
				<a
					class="site-title"
					rel="author"
					href="{{ get_url(path='/', trailing_slash=false) }}"
					>{{ config.title }}</a
				>
			</div>
		</header>
		{% endblock nav %} {% block content %} {% endblock content %}
	</body>
</html>
